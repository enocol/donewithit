{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{% block title %}MarketCorner{% endblock %}</title>
    <!-- favicon -->
    <link rel="icon" type="image/x-icon" href="{% static 'images/favicon.ico' %}">
    <!-- bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr"
      crossorigin="anonymous"
    />
    <!-- font awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
      integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    

    {% block corecss %}
    <link rel="stylesheet" href="{% static 'css/styles.css' %}" />
    {% endblock corecss %}
    {% block extracss %}
    {% endblock extracss %}
    {% block extra %}
      <meta name="description" content="MarketCorner - Your one-stop shop for all things marketplace." />
      <link rel="icon" type="image/x-icon" href="{% static 'favicon.ico' %}" />
    {% endblock extra %}
  </head>
  <body>

<!-- Loading Spinner Overlay -->
<div id="loading-spinner" class="d-flex justify-content-center align-items-center">
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
</div>


    <!-- Header -->
    <header class="z-3 fixed-top">
      {% include 'includes/deaktopheader.html' %}
      {% include 'includes/mobileHeader.html' %}
    </header>
   
    <section class="mt-5 pt-4">{% block content %} {% endblock %}</section>
    <footer class="footer mt-auto">
      <div class="bg-dark text-center text-white py-3 ">
        <p class="mb-0">&copy; 2024 MarketCorner. All rights reserved.</p>
      </div>
    </footer>
    {% block corejs %}
    <!-- stripe -->
     <script src="https://js.stripe.com/basil/stripe.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
      crossorigin="anonymous"
    ></script>
    <script src="{% static 'js/scripts.js' %}"></script>
    {% endblock corejs %}
    {% block scripts %}
    {% endblock scripts %}

    <!-- Modal -->
<div class="modal fade d-lg-none " id="allCategoriesModal" tabindex="-1"
     aria-labelledby="allCategoriesLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-fullscreen-sm-down">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="allCategoriesLabel">All Categories</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"
                aria-label="Close"></button>
      </div>

      <div class="modal-body">
        <!-- Sticky search (optional) -->
          <div class="position-sticky top-0 bg-white pb-2 mb-2">
            <input type="search" id="catSearch" class="form-control"
                  placeholder="Search categoriesâ€¦">
          </div>

      
          <div class="list-group" id="categoryList">
                {% for c in categories %}
                <a href="{% url 'product_list' %}?category={{ c.name }}" class=""
              ><div class="category">{{ c.get_display_name }}</div></a>
                {% endfor %}
          </div>
      </div>

      <!-- Optional footer (hidden on small screens if you prefer) -->
      <div class="modal-footer  d-sm-flex">
        <button class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
  </body>
</html>
