{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{% block title %}MarketCorner{% endblock %}</title>
    <!-- favicon -->
    <link rel="icon" type="image/x-icon" href="{% static 'images/favicon.ico' %}">
    <!-- bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr"
      crossorigin="anonymous"
    />
    <!-- font awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
      integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    

    {% block corecss %}
    <link rel="stylesheet" href="{% static 'css/styles.css' %}" />
    {% endblock corecss %}
    {% block extracss %}
    {% endblock extracss %}
    {% block extra %}
      <meta name="description" content="MarketCorner - Your one-stop shop for all things marketplace." />
      <link rel="icon" type="image/x-icon" href="{% static 'favicon.ico' %}" />
    {% endblock extra %}
  </head>
  <body>

<!-- Loading Spinner Overlay -->
<div id="loading-spinner" class="d-flex justify-content-center align-items-center">
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
</div>


    <!-- Header -->
    <header class="z-3 fixed-top">
      {% include 'includes/deaktopheader.html' %}
      {% include 'includes/mobileHeader.html' %}
    </header>
   
    <section class=" pt-4">{% block content %} {% endblock %}</section>

    <!-- footer -->

  <footer class="mt-auto bg-dark text-light pt-5" data-bs-theme="dark">
  <div class="container">
    <div class="row g-4 pb-4 border-bottom border-secondary-subtle">
      <!-- Brand / blurb -->
      <div class="col-12 col-md-4">
        <a href="{% url 'home' %}" class="text-decoration-none text-light d-inline-flex align-items-center mb-2">
          <span class="fw-bold fs-5">MarketCorner</span>
        </a>
        <p class="text-white-50 mb-3">
          Find great products from trusted sellers. New deals added daily.
        </p>

        <!-- Social -->
        <div class="d-flex gap-2">
          <!-- Use your real links -->
          <a class="btn btn-outline-light btn-sm rounded-circle social-btn" href="https://facebook.com/yourpage" aria-label="Facebook" rel="noopener" target="_blank">
            <!-- Facebook SVG -->
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M22 12.06C22 6.48 17.52 2 11.94 2S2 6.48 2 12.06c0 5.02 3.66 9.19 8.44 9.94v-7.03H7.9v-2.9h2.54V9.41c0-2.5 1.49-3.88 3.77-3.88 1.09 0 2.24.2 2.24.2v2.46h-1.26c-1.24 0-1.63.77-1.63 1.56v1.87h2.78l-.44 2.9h-2.34v7.03C18.34 21.25 22 17.08 22 12.06z"/></svg>
          </a>
          <a class="btn btn-outline-light btn-sm rounded-circle social-btn" href="https://twitter.com/yourhandle" aria-label="X (Twitter)" rel="noopener" target="_blank">
            <!-- X/Twitter SVG -->
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M20.6 3H17.8l-4.5 6L8.5 3H3.4l6.3 9.2L3 21h2.8l5.1-6.9L16 21h5.1l-6.9-9.8L20.6 3z"/></svg>
          </a>
          <a class="btn btn-outline-light btn-sm rounded-circle social-btn" href="https://instagram.com/yourhandle" aria-label="Instagram" rel="noopener" target="_blank">
            <!-- Instagram SVG -->
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm0 2a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3H7zm5 3.5A5.5 5.5 0 1 1 6.5 13 5.5 5.5 0 0 1 12 7.5zm0 2A3.5 3.5 0 1 0 15.5 13 3.5 3.5 0 0 0 12 9.5zM18.5 6a1 1 0 1 1-1 1 1 1 0 0 1 1-1z"/></svg>
          </a>
          <a class="btn btn-outline-light btn-sm rounded-circle social-btn" href="https://linkedin.com/company/yourcompany" aria-label="LinkedIn" rel="noopener" target="_blank">
            <!-- LinkedIn SVG -->
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M6.94 8.9H4V20h2.94zM5.47 4a1.73 1.73 0 1 0 0 3.47A1.73 1.73 0 0 0 5.47 4zM20 20h-2.91v-5.6c0-1.34-.03-3.07-1.87-3.07-1.87 0-2.16 1.46-2.16 2.97V20H10.2V8.9h2.79v1.51h.04c.39-.74 1.35-1.51 2.78-1.51 2.97 0 3.52 1.96 3.52 4.5V20z"/></svg>
          </a>
          <a class="btn btn-outline-light btn-sm rounded-circle social-btn" href="https://youtube.com" aria-label="YouTube" rel="noopener" target="_blank">
            <!-- YouTube SVG -->
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M23 12s0-3.3-.42-4.8a3 3 0 0 0-2.12-2.12C18.94 4.66 12 4.66 12 4.66s-6.94 0-8.46.42A3 3 0 0 0 1.42 7.2C1 8.7 1 12 1 12s0 3.3.42 4.8a3 3 0 0 0 2.12 2.12c1.52.42 8.46.42 8.46.42s6.94 0 8.46-.42a3 3 0 0 0 2.12-2.12C23 15.3 23 12 23 12zM9.75 15.02v-6l5.75 3-5.75 3z"/></svg>
          </a>
          <a class="btn btn-outline-light btn-sm rounded-circle social-btn" href="https://github.com/yourorg" aria-label="GitHub" rel="noopener" target="_blank">
            <!-- GitHub SVG -->
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 .5a11.5 11.5 0 0 0-3.64 22.41c.58.11.79-.25.79-.56v-2.1c-3.22.7-3.9-1.39-3.9-1.39-.53-1.34-1.3-1.7-1.3-1.7-1.06-.73.08-.72.08-.72 1.18.08 1.81 1.21 1.81 1.21 1.04 1.79 2.74 1.27 3.41.97.11-.75.41-1.27.75-1.56-2.57-.29-5.27-1.29-5.27-5.76 0-1.27.46-2.31 1.21-3.13-.12-.3-.52-1.52.12-3.17 0 0 .98-.31 3.2 1.2a11 11 0 0 1 5.82 0c2.22-1.51 3.2-1.2 3.2-1.2.64 1.65.24 2.87.12 3.17.75.82 1.21 1.86 1.21 3.13 0 4.49-2.71 5.46-5.29 5.75.42.36.8 1.06.8 2.15v3.19c0 .31.21.68.8.56A11.5 11.5 0 0 0 12 .5z"/></svg>
          </a>
        </div>
      </div>

     

      <!-- Company links -->
      <div class="col-6 col-md-2">
        <h6 class="text-uppercase text-white-50">Company</h6>
        <ul class="list-unstyled small">
          <li><a class="footer-link" href="{% url 'about' %}">About</a></li>
          <li><a class="footer-link" href="">Contact</a></li>
          <li><a class="footer-link" href="">FAQ</a></li>
          <li><a class="footer-link" href="">Support</a></li>
        </ul>
      </div>

      <!-- Newsletter -->
      <div class="col-12 col-md-4">
        <h6 class="text-uppercase text-white-50">Subscribe</h6>
        <div class="col-12 col-lg-6">
        <a href="{% url 'signup' %}" class="btn btn-secondary">Subscribe</a>
      </div>
        <p class="small text-white-50 mt-2 mb-0">Get updates on new products and offers. Unsubscribe any time.</p>
      </div>
    </div>

    <!-- Bottom bar -->
    <div class="d-flex flex-column flex-sm-row justify-content-between align-items-center py-3">
      <p class="mb-2 mb-sm-0 small text-white-50">
        &copy; MarketCorner. All rights reserved.
      </p>
      <ul class="nav small">
        <li class="nav-item"><a class="nav-link px-2 footer-link" href="">Privacy</a></li>
        <li class="nav-item"><a class="nav-link px-2 footer-link" href="">Terms</a></li>
        <li class="nav-item"><a class="nav-link px-2 footer-link" href="">Cookies</a></li>
      </ul>
    </div>
  </div>
</footer>
    <!-- end footer -->



   
    
    
    <!-- toast container -->
   
      {% if messages %}

      <div class="message-container" style="position: fixed; top: 1rem; right: 1rem; z-index: 1100;">
        {% for message in messages %}
        {% with message.level as level %}
          {% if level == 25 %}
            {% include "includes/toast/toast_success.html" %}
          {% elif level == 40 %}
            {% include "includes/toast/toast_error.html" %}
          {% elif level == 30 %}
            {% include "includes/toast/toast_warning.html" %}
          {% else %}
            {% include "includes/toast/toast_info.html" %}
          {% endif %}
        {% endwith %}
        {% endfor %}
      </div>
      {% endif %}

    

    <!-- Modal -->
<div class="modal fade d-lg-none " id="allCategoriesModal" tabindex="-1"
     aria-labelledby="allCategoriesLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-fullscreen-sm-down">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="allCategoriesLabel">All Categories</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"
                aria-label="Close"></button>
      </div>

      <div class="modal-body bg-light z-index-1050">

          <div class="position-sticky top-0 bg-light">
            <input type="search" id="catSearch" class="form-control m-0"
                  placeholder="Search categoriesâ€¦">
          </div>

      
          <div class="list-group" id="categoryList">
                {% for c in categories %}
                <a href="{% url 'product_list' %}?category={{ c.name }}" class=""
              ><div class="category">{{ c.get_display_name }}</div></a>
                {% endfor %}
          </div>
      </div>

     
      <div class="modal-footer  d-sm-flex">
        <button class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

    {% block scripts %}
    {% endblock scripts %}

 {% block corejs %}
    <!-- stripe -->
     <script src="https://js.stripe.com/basil/stripe.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
      crossorigin="anonymous"
    ></script>
    <script src="{% static 'js/scripts.js' %}"></script>

      <script type="text/javascript">
       
        document.addEventListener('DOMContentLoaded', () => {
          const toastEl = document.getElementById('liveToast');
          if (!toastEl) return; // No toast on this page
          const toast = new bootstrap.Toast(toastEl);
          toast.show();
  });
  
      </script>
    {% endblock corejs %}
  </body>
</html>
