 <nav class="navbar navbar-light bg-light px-3 d-lg-none">
    <a class="navbar-brand fw-semibold" href="#">MarketCorner</a>

    <!-- Offcanvas toggle button (shows on mobile) -->
    <button class="btn btn-outline-secondary d-lg-none"
        type="button"
        data-bs-toggle="offcanvas"
        data-bs-target="#mobileMenu"
        data-bs-backdrop="true" 
        data-bs-scroll="false" 
        aria-controls="mobileMenu">

        <i class="fa fa-bars"></i>

    </button>
  </nav>

<div class="offcanvas offcanvas-start  d-lg-none" tabindex="-1" id="mobileMenu" aria-labelledby="mobileMenuLabel">
        <div class="offcanvas-header">
          <h5 class="offcanvas-title">Menu</h5>
          <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
      <div class="offcanvas-body d-flex flex-column">
            <hr class="my-3">
                <a class="nav-link my-2" href="{% url 'product_list' %}">Products</a>
                {% if user.is_authenticated %}
                <a class="nav-link my-2" href="{% url 'product_create' %}">Post a Product</a>
                <a class="nav-link my-2" href="{% url 'profile' %}">Profile</a>
                <a class="nav-link my-2" href="{% url 'account_logout' %}">Logout</a>
                {% else %}  
                <a class="nav-link my-2" href="{% url 'account_login' %}">Sign in</a>
                <a class="nav-link my-2" href="{% url 'account_signup' %}">Register</a>
                {% endif %}
            <hr class="my-3">

           
            <hr class="my-3">
                <a href="#"
                  class="btn btn-outline-secondary d-lg-none"
                  data-bs-toggle="modal"
                  data-bs-target="#allCategoriesModal">
                  All Categories
                </a>
                <a href="{% url 'product_list' %}?filter=new_arrivals" class="btn btn-outline-secondary d-lg-none">New Arrivals</a>
                
      </div>
</div>

 {% if cart_total %}
<div class="bg-light px-3 py-2 d-block d-md-none">
  <a href="{% url 'shopping_cart' %}" class="btn btn-warning w-100">
      <i class="fas fa-shopping-cart"></i> Â£{{ cart_total|floatformat:2 }}
  </a>
</div>
{% else %}
    <div class="bg-light px-3 py-2 d-block d-md-none">
      <a href="{% url 'shopping_cart' %}" class="btn btn-warning w-100">
        <i class="fas fa-shopping-cart"></i> (0.00)
      </a>  
    </div>

    <div class="p-3 d-block d-md-none">
      {% include 'includes/searchform.html' %}
    </div>

{% endif %}



<script>
  // Simple client-side filter
  document.addEventListener('DOMContentLoaded', function () {
    const input = document.getElementById('catSearch');
    const list = document.getElementById('categoryList');
    if (!input || !list) return;

    input.addEventListener('input', function () {
      const q = this.value.toLowerCase();
      list.querySelectorAll('.list-group-item').forEach(item => {
        item.style.display = item.textContent.toLowerCase().includes(q) ? '' : 'none';
      });
    });
  });
</script>
